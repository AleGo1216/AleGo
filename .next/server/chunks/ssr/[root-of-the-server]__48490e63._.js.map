{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/lib/products.ts"],"sourcesContent":["// lib/products.ts\nimport productsData from '../data/products.json';\n\nexport interface Product {\n  id: string;\n  title: string;\n  price: number;\n  image: string;\n}\n\nexport function getAllProducts(): Product[] {\n  // productsData 是静态 JSON 导入（位于 data/products.json）\n  return (productsData as Product[]).slice();\n}"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;;;;;;AAUX,SAAS;IACd,kDAAkD;IAClD,OAAO,AAAC,aAA2B,KAAK;AAC1C","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/lib/util.ts"],"sourcesContent":["// lib/util.ts\nimport { Product } from './products';\n\nexport type SortOption = 'default' | 'price-asc' | 'price-desc';\n\nexport interface Opts {\n  minPrice: number;\n  maxPrice: number;\n  sort: SortOption;\n  perPage: number;\n  page: number;\n}\n\nexport interface PageResult {\n  items: Product[];\n  total: number;\n  totalPages: number;\n  page: number;\n  perPage: number;\n}\n\nexport function applyFilters(products: Product[], opts: Opts): PageResult {\n  const min = Number(opts.minPrice || 0);\n  const max = Number(opts.maxPrice || Infinity);\n  const perPage = Number(opts.perPage) || 12;\n  let list = products.filter((p) => p.price >= min && p.price <= max);\n\n  if (opts.sort === 'price-asc') list = list.slice().sort((a, b) => a.price - b.price);\n  if (opts.sort === 'price-desc') list = list.slice().sort((a, b) => b.price - a.price);\n\n  const total = list.length;\n  const totalPages = Math.max(1, Math.ceil(total / perPage));\n  const page = Math.min(Math.max(1, Number(opts.page || 1)), totalPages);\n  const start = (page - 1) * perPage;\n  const items = list.slice(start, start + perPage);\n\n  return { items, total, totalPages, page, perPage };\n}"],"names":[],"mappings":"AAAA,cAAc;;;;;AAqBP,SAAS,aAAa,QAAmB,EAAE,IAAU;IAC1D,MAAM,MAAM,OAAO,KAAK,QAAQ,IAAI;IACpC,MAAM,MAAM,OAAO,KAAK,QAAQ,IAAI;IACpC,MAAM,UAAU,OAAO,KAAK,OAAO,KAAK;IACxC,IAAI,OAAO,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK,IAAI,OAAO,EAAE,KAAK,IAAI;IAE/D,IAAI,KAAK,IAAI,KAAK,aAAa,OAAO,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IACnF,IAAI,KAAK,IAAI,KAAK,cAAc,OAAO,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IAEpF,MAAM,QAAQ,KAAK,MAAM;IACzB,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,QAAQ;IACjD,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,OAAO,KAAK,IAAI,IAAI,KAAK;IAC3D,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI;IAC3B,MAAM,QAAQ,KAAK,KAAK,CAAC,OAAO,QAAQ;IAExC,OAAO;QAAE;QAAO;QAAO;QAAY;QAAM;IAAQ;AACnD","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/shop/shop.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"shop-module__-mQgjq__active\",\n  \"apply-btn\": \"shop-module__-mQgjq__apply-btn\",\n  \"badge\": \"shop-module__-mQgjq__badge\",\n  \"btn\": \"shop-module__-mQgjq__btn\",\n  \"card\": \"shop-module__-mQgjq__card\",\n  \"card-actions\": \"shop-module__-mQgjq__card-actions\",\n  \"card-body\": \"shop-module__-mQgjq__card-body\",\n  \"chip\": \"shop-module__-mQgjq__chip\",\n  \"close-btn\": \"shop-module__-mQgjq__close-btn\",\n  \"controls-row\": \"shop-module__-mQgjq__controls-row\",\n  \"double-range\": \"shop-module__-mQgjq__double-range\",\n  \"fav\": \"shop-module__-mQgjq__fav\",\n  \"fill\": \"shop-module__-mQgjq__fill\",\n  \"footer-brand\": \"shop-module__-mQgjq__footer-brand\",\n  \"footer-desc\": \"shop-module__-mQgjq__footer-desc\",\n  \"footer-inner\": \"shop-module__-mQgjq__footer-inner\",\n  \"footer-left\": \"shop-module__-mQgjq__footer-left\",\n  \"footer-links\": \"shop-module__-mQgjq__footer-links\",\n  \"grid\": \"shop-module__-mQgjq__grid\",\n  \"icon-btn\": \"shop-module__-mQgjq__icon-btn\",\n  \"layout\": \"shop-module__-mQgjq__layout\",\n  \"left\": \"shop-module__-mQgjq__left\",\n  \"legal-small\": \"shop-module__-mQgjq__legal-small\",\n  \"logo\": \"shop-module__-mQgjq__logo\",\n  \"logo-a\": \"shop-module__-mQgjq__logo-a\",\n  \"logo-rest\": \"shop-module__-mQgjq__logo-rest\",\n  \"logo-sub\": \"shop-module__-mQgjq__logo-sub\",\n  \"media\": \"shop-module__-mQgjq__media\",\n  \"meta\": \"shop-module__-mQgjq__meta\",\n  \"meta-small\": \"shop-module__-mQgjq__meta-small\",\n  \"modal\": \"shop-module__-mQgjq__modal\",\n  \"modal-backdrop\": \"shop-module__-mQgjq__modal-backdrop\",\n  \"muted\": \"shop-module__-mQgjq__muted\",\n  \"nav-item\": \"shop-module__-mQgjq__nav-item\",\n  \"newsletter\": \"shop-module__-mQgjq__newsletter\",\n  \"option-list\": \"shop-module__-mQgjq__option-list\",\n  \"page-btn\": \"shop-module__-mQgjq__page-btn\",\n  \"page-title\": \"shop-module__-mQgjq__page-title\",\n  \"pagination\": \"shop-module__-mQgjq__pagination\",\n  \"panel\": \"shop-module__-mQgjq__panel\",\n  \"price\": \"shop-module__-mQgjq__price\",\n  \"primary\": \"shop-module__-mQgjq__primary\",\n  \"range-controls\": \"shop-module__-mQgjq__range-controls\",\n  \"range-track\": \"shop-module__-mQgjq__range-track\",\n  \"range-wrap\": \"shop-module__-mQgjq__range-wrap\",\n  \"search\": \"shop-module__-mQgjq__search\",\n  \"site-footer\": \"shop-module__-mQgjq__site-footer\",\n  \"social-btn\": \"shop-module__-mQgjq__social-btn\",\n  \"social-row\": \"shop-module__-mQgjq__social-row\",\n  \"sort\": \"shop-module__-mQgjq__sort\",\n  \"sr-only\": \"shop-module__-mQgjq__sr-only\",\n  \"subtitle\": \"shop-module__-mQgjq__subtitle\",\n  \"title\": \"shop-module__-mQgjq__title\",\n  \"top-controls\": \"shop-module__-mQgjq__top-controls\",\n  \"topbar\": \"shop-module__-mQgjq__topbar\",\n  \"utils\": \"shop-module__-mQgjq__utils\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/components/ProductCard.tsx"],"sourcesContent":["import { Product } from \"../lib/types\";\nimport styles from \"../shop.module.css\";\n\n\ninterface ProductCardProps {\n  product: Product;\n  onToggleFav: (id: number) => void;\n  onOpenModal: (p: Product) => void;\n}\n\nexport default function ProductCard({\n  product,\n  onToggleFav,\n  onOpenModal,\n}: ProductCardProps) {\n  return (\n    <div className={styles.card}>\n      <button\n        className={`${styles.favBtn} ${product.fav ? styles.active : \"\"}`}\n        onClick={() => onToggleFav(product.id)}\n      >\n        <i className={product.fav ? \"ri-heart-fill\" : \"ri-heart-line\"}></i>\n      </button>\n      <img\n        src={product.img}\n        alt={product.title}\n        className={styles.productImg}\n        onClick={() => onOpenModal(product)}\n      />\n      <div className={styles.cardInfo}>\n        <h3>{product.title}</h3>\n        <p>{product.artist}</p>\n        <p>${product.price}</p>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;;;AASe,SAAS,YAAY,EAClC,OAAO,EACP,WAAW,EACX,WAAW,EACM;IACjB,qBACE,8OAAC;QAAI,WAAW,0IAAM,CAAC,IAAI;;0BACzB,8OAAC;gBACC,WAAW,GAAG,0IAAM,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,GAAG,GAAG,0IAAM,CAAC,MAAM,GAAG,IAAI;gBACjE,SAAS,IAAM,YAAY,QAAQ,EAAE;0BAErC,cAAA,8OAAC;oBAAE,WAAW,QAAQ,GAAG,GAAG,kBAAkB;;;;;;;;;;;0BAEhD,8OAAC;gBACC,KAAK,QAAQ,GAAG;gBAChB,KAAK,QAAQ,KAAK;gBAClB,WAAW,0IAAM,CAAC,UAAU;gBAC5B,SAAS,IAAM,YAAY;;;;;;0BAE7B,8OAAC;gBAAI,WAAW,0IAAM,CAAC,QAAQ;;kCAC7B,8OAAC;kCAAI,QAAQ,KAAK;;;;;;kCAClB,8OAAC;kCAAG,QAAQ,MAAM;;;;;;kCAClB,8OAAC;;4BAAE;4BAAE,QAAQ,KAAK;;;;;;;;;;;;;;;;;;;AAI1B","debugId":null}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/components/ShopClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/shop/components/ShopClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/shop/components/ShopClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/components/ShopClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/shop/components/ShopClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/shop/components/ShopClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/page.tsx"],"sourcesContent":["// app/page.tsx\nimport React from 'react';\nimport { getAllProducts } from './lib/products';\nimport { applyFilters, Opts } from './lib/util';\nimport ProductCard from './components/ProductCard';\nimport ControlsView from './components/ControlsView';\nimport ShopClient from './components/ShopClient';\n\nexport default function Page() {\n  const products = getAllProducts();\n\n  const initialOpts: Opts = {\n    minPrice: 0,\n    maxPrice: 9999999,\n    sort: 'default',\n    perPage: 12,\n    page: 1,\n  };\n\n  const initialPage = applyFilters(products, initialOpts);\n\n  return (\n    <main>\n      {/* 服务器端渲染的 wrapper: 包含静态控件和初始 product list */}\n      <div className=\"shop-wrapper container-grid\">\n        <aside className=\"filters-area\">\n          <ControlsView opts={initialOpts} />\n        </aside>\n\n        <section className=\"product-area\">\n          <div id=\"product-list\" className=\"product-grid\">\n            {initialPage.items.map((p) => (\n              <ProductCard key={p.id} p={p} />\n            ))}\n          </div>\n\n          <div id=\"pagination\" className=\"pagination-wrap\">\n            {/* 简单 server-side pagination rendering */}\n            {initialPage.totalPages > 1 && (\n              <nav className=\"pagination\">\n                {Array.from({ length: initialPage.totalPages }, (_, i) => {\n                  const n = i + 1;\n                  return (\n                    <button key={n} className={`page-btn${n === initialPage.page ? ' active' : ''}`} aria-current={n === initialPage.page ? 'page' : undefined}>\n                      {n}\n                    </button>\n                  );\n                })}\n              </nav>\n            )}\n          </div>\n        </section>\n      </div>\n\n      {/* 客户端入口（hydration + 交互）。传入相同的数据以确保初次渲染一致 */}\n      <ShopClient allProducts={products} initialOpts={initialOpts} initialPageResult={initialPage} />\n    </main>\n  );\n}"],"names":[],"mappings":"AAAA,eAAe;;;;;;AAEf;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACtB,MAAM,WAAW,IAAA,gJAAc;IAE/B,MAAM,cAAoB;QACxB,UAAU;QACV,UAAU;QACV,MAAM;QACN,SAAS;QACT,MAAM;IACR;IAEA,MAAM,cAAc,IAAA,0IAAY,EAAC,UAAU;IAE3C,qBACE,8OAAC;;0BAEC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC,qJAAY;4BAAC,MAAM;;;;;;;;;;;kCAGtB,8OAAC;wBAAQ,WAAU;;0CACjB,8OAAC;gCAAI,IAAG;gCAAe,WAAU;0CAC9B,YAAY,KAAK,CAAC,GAAG,CAAC,CAAC,kBACtB,8OAAC,oJAAW;wCAAY,GAAG;uCAAT,EAAE,EAAE;;;;;;;;;;0CAI1B,8OAAC;gCAAI,IAAG;gCAAa,WAAU;0CAE5B,YAAY,UAAU,GAAG,mBACxB,8OAAC;oCAAI,WAAU;8CACZ,MAAM,IAAI,CAAC;wCAAE,QAAQ,YAAY,UAAU;oCAAC,GAAG,CAAC,GAAG;wCAClD,MAAM,IAAI,IAAI;wCACd,qBACE,8OAAC;4CAAe,WAAW,CAAC,QAAQ,EAAE,MAAM,YAAY,IAAI,GAAG,YAAY,IAAI;4CAAE,gBAAc,MAAM,YAAY,IAAI,GAAG,SAAS;sDAC9H;2CADU;;;;;oCAIjB;;;;;;;;;;;;;;;;;;;;;;;0BAQV,8OAAC,mJAAU;gBAAC,aAAa;gBAAU,aAAa;gBAAa,mBAAmB;;;;;;;;;;;;AAGtF","debugId":null}}]
}