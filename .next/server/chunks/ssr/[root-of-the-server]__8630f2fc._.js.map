{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/components/ControlsView.tsx"],"sourcesContent":["'use client'\n// components/ControlsView.tsx\nimport React from 'react';\nimport { Opts } from '../lib/util';\n\nexport default function ControlsView({ opts }: { opts: Opts }) {\n  return (\n    <form id=\"filter-form\" className=\"filters\" action=\"#\" onSubmit={(e) => e.preventDefault()}>\n      <label className=\"label-inline\">\n        价格区间：\n        <div className=\"range-inputs\">\n          <input id=\"price-min\" name=\"min\" type=\"number\" min={0} defaultValue={opts.minPrice} />\n          <span className=\"sep\">—</span>\n          <input id=\"price-max\" name=\"max\" type=\"number\" min={0} defaultValue={opts.maxPrice} />\n        </div>\n      </label>\n\n      <label className=\"label-block\">\n        排序：\n        <select id=\"sort-select\" defaultValue={opts.sort}>\n          <option value=\"default\">默认</option>\n          <option value=\"price-asc\">价格从低到高</option>\n          <option value=\"price-desc\">价格从高到低</option>\n        </select>\n      </label>\n\n      <label className=\"label-block\">\n        每页：\n        <select id=\"perpage-select\" defaultValue={String(opts.perPage)}>\n          <option value=\"8\">8</option>\n          <option value=\"12\">12</option>\n          <option value=\"24\">24</option>\n        </select>\n      </label>\n\n      <div className=\"controls-actions\">\n        <button id=\"apply-btn\" type=\"button\" className=\"btn-primary\">应用</button>\n      </div>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;;AAKe,SAAS,aAAa,EAAE,IAAI,EAAkB;IAC3D,qBACE,8OAAC;QAAK,IAAG;QAAc,WAAU;QAAU,QAAO;QAAI,UAAU,CAAC,IAAM,EAAE,cAAc;;0BACrF,8OAAC;gBAAM,WAAU;;oBAAe;kCAE9B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,IAAG;gCAAY,MAAK;gCAAM,MAAK;gCAAS,KAAK;gCAAG,cAAc,KAAK,QAAQ;;;;;;0CAClF,8OAAC;gCAAK,WAAU;0CAAM;;;;;;0CACtB,8OAAC;gCAAM,IAAG;gCAAY,MAAK;gCAAM,MAAK;gCAAS,KAAK;gCAAG,cAAc,KAAK,QAAQ;;;;;;;;;;;;;;;;;;0BAItF,8OAAC;gBAAM,WAAU;;oBAAc;kCAE7B,8OAAC;wBAAO,IAAG;wBAAc,cAAc,KAAK,IAAI;;0CAC9C,8OAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,8OAAC;gCAAO,OAAM;0CAAY;;;;;;0CAC1B,8OAAC;gCAAO,OAAM;0CAAa;;;;;;;;;;;;;;;;;;0BAI/B,8OAAC;gBAAM,WAAU;;oBAAc;kCAE7B,8OAAC;wBAAO,IAAG;wBAAiB,cAAc,OAAO,KAAK,OAAO;;0CAC3D,8OAAC;gCAAO,OAAM;0CAAI;;;;;;0CAClB,8OAAC;gCAAO,OAAM;0CAAK;;;;;;0CACnB,8OAAC;gCAAO,OAAM;0CAAK;;;;;;;;;;;;;;;;;;0BAIvB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAO,IAAG;oBAAY,MAAK;oBAAS,WAAU;8BAAc;;;;;;;;;;;;;;;;;AAIrE","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/components/ControlsClient.tsx"],"sourcesContent":["// components/ControlsClient.tsx\n'use client';\nimport React, { useState } from 'react';\nimport { Opts, SortOption } from '../lib/util';\n\ntype Props = {\n  initial: Opts;\n  onChange: (opts: Partial<Opts>) => void;\n};\n\nexport default function ControlsClient({ initial, onChange }: Props) {\n  const [min, setMin] = useState(String(initial.minPrice));\n  const [max, setMax] = useState(String(initial.maxPrice));\n  const [sort, setSort] = useState<SortOption>(initial.sort);\n  const [perPage, setPerPage] = useState(String(initial.perPage));\n\n  function apply() {\n    onChange({\n      minPrice: Number(min || 0),\n      maxPrice: Number(max || 9999999),\n      sort,\n      perPage: Number(perPage || 12),\n      page: 1,\n    });\n  }\n\n  return (\n    <form id=\"filter-form\" className=\"filters\" onSubmit={(e) => e.preventDefault()}>\n      <label className=\"label-inline\">\n        价格区间：\n        <div className=\"range-inputs\">\n          <input id=\"price-min\" name=\"min\" type=\"number\" min={0} value={min} onChange={(e) => setMin(e.target.value)} />\n          <span className=\"sep\">—</span>\n          <input id=\"price-max\" name=\"max\" type=\"number\" min={0} value={max} onChange={(e) => setMax(e.target.value)} />\n        </div>\n      </label>\n\n      <label className=\"label-block\">\n        排序：\n        <select id=\"sort-select\" value={sort} onChange={(e) => setSort(e.target.value as SortOption)}>\n          <option value=\"default\">默认</option>\n          <option value=\"price-asc\">价格从低到高</option>\n          <option value=\"price-desc\">价格从高到低</option>\n        </select>\n      </label>\n\n      <label className=\"label-block\">\n        每页：\n        <select id=\"perpage-select\" value={perPage} onChange={(e) => setPerPage(e.target.value)}>\n          <option value=\"8\">8</option>\n          <option value=\"12\">12</option>\n          <option value=\"24\">24</option>\n        </select>\n      </label>\n\n      <div className=\"controls-actions\">\n        <button id=\"apply-btn\" type=\"button\" className=\"btn-primary\" onClick={apply}>应用</button>\n      </div>\n    </form>\n  );\n}"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;AAEhC;AADA;;;AASe,SAAS,eAAe,EAAE,OAAO,EAAE,QAAQ,EAAS;IACjE,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC,OAAO,QAAQ,QAAQ;IACtD,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC,OAAO,QAAQ,QAAQ;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAa,QAAQ,IAAI;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,OAAO,QAAQ,OAAO;IAE7D,SAAS;QACP,SAAS;YACP,UAAU,OAAO,OAAO;YACxB,UAAU,OAAO,OAAO;YACxB;YACA,SAAS,OAAO,WAAW;YAC3B,MAAM;QACR;IACF;IAEA,qBACE,8OAAC;QAAK,IAAG;QAAc,WAAU;QAAU,UAAU,CAAC,IAAM,EAAE,cAAc;;0BAC1E,8OAAC;gBAAM,WAAU;;oBAAe;kCAE9B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,IAAG;gCAAY,MAAK;gCAAM,MAAK;gCAAS,KAAK;gCAAG,OAAO;gCAAK,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;0CACzG,8OAAC;gCAAK,WAAU;0CAAM;;;;;;0CACtB,8OAAC;gCAAM,IAAG;gCAAY,MAAK;gCAAM,MAAK;gCAAS,KAAK;gCAAG,OAAO;gCAAK,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;0BAI7G,8OAAC;gBAAM,WAAU;;oBAAc;kCAE7B,8OAAC;wBAAO,IAAG;wBAAc,OAAO;wBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;0CAC3E,8OAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,8OAAC;gCAAO,OAAM;0CAAY;;;;;;0CAC1B,8OAAC;gCAAO,OAAM;0CAAa;;;;;;;;;;;;;;;;;;0BAI/B,8OAAC;gBAAM,WAAU;;oBAAc;kCAE7B,8OAAC;wBAAO,IAAG;wBAAiB,OAAO;wBAAS,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;0CACpF,8OAAC;gCAAO,OAAM;0CAAI;;;;;;0CAClB,8OAAC;gCAAO,OAAM;0CAAK;;;;;;0CACnB,8OAAC;gCAAO,OAAM;0CAAK;;;;;;;;;;;;;;;;;;0BAIvB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAO,IAAG;oBAAY,MAAK;oBAAS,WAAU;oBAAc,SAAS;8BAAO;;;;;;;;;;;;;;;;;AAIrF","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/lib/util.ts"],"sourcesContent":["// lib/util.ts\nimport { Product } from './products';\n\nexport type SortOption = 'default' | 'price-asc' | 'price-desc';\n\nexport interface Opts {\n  minPrice: number;\n  maxPrice: number;\n  sort: SortOption;\n  perPage: number;\n  page: number;\n}\n\nexport interface PageResult {\n  items: Product[];\n  total: number;\n  totalPages: number;\n  page: number;\n  perPage: number;\n}\n\nexport function applyFilters(products: Product[], opts: Opts): PageResult {\n  const min = Number(opts.minPrice || 0);\n  const max = Number(opts.maxPrice || Infinity);\n  const perPage = Number(opts.perPage) || 12;\n  let list = products.filter((p) => p.price >= min && p.price <= max);\n\n  if (opts.sort === 'price-asc') list = list.slice().sort((a, b) => a.price - b.price);\n  if (opts.sort === 'price-desc') list = list.slice().sort((a, b) => b.price - a.price);\n\n  const total = list.length;\n  const totalPages = Math.max(1, Math.ceil(total / perPage));\n  const page = Math.min(Math.max(1, Number(opts.page || 1)), totalPages);\n  const start = (page - 1) * perPage;\n  const items = list.slice(start, start + perPage);\n\n  return { items, total, totalPages, page, perPage };\n}"],"names":[],"mappings":"AAAA,cAAc;;;;;AAqBP,SAAS,aAAa,QAAmB,EAAE,IAAU;IAC1D,MAAM,MAAM,OAAO,KAAK,QAAQ,IAAI;IACpC,MAAM,MAAM,OAAO,KAAK,QAAQ,IAAI;IACpC,MAAM,UAAU,OAAO,KAAK,OAAO,KAAK;IACxC,IAAI,OAAO,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK,IAAI,OAAO,EAAE,KAAK,IAAI;IAE/D,IAAI,KAAK,IAAI,KAAK,aAAa,OAAO,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IACnF,IAAI,KAAK,IAAI,KAAK,cAAc,OAAO,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IAEpF,MAAM,QAAQ,KAAK,MAAM;IACzB,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,QAAQ;IACjD,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,OAAO,KAAK,IAAI,IAAI,KAAK;IAC3D,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI;IAC3B,MAAM,QAAQ,KAAK,KAAK,CAAC,OAAO,QAAQ;IAExC,OAAO;QAAE;QAAO;QAAO;QAAY;QAAM;IAAQ;AACnD","debugId":null}},
    {"offset": {"line": 417, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/components/ShopClient.tsx"],"sourcesContent":["// components/ShopClient.tsx\n'use client';\nimport React, { useMemo, useState } from 'react';\nimport { Product } from '../lib/products';\nimport ProductCard from './ProductCard';\nimport ControlsClient from './ControlsClient';\nimport { applyFilters, Opts, PageResult } from '../lib/util';\n\ntype Props = {\n  allProducts: Product[];\n  initialOpts: Opts;\n  initialPageResult: PageResult;\n};\n\nexport default function ShopClient({ allProducts, initialOpts, initialPageResult }: Props) {\n  // keep opts in state; initial values must match SSR opts\n  const [opts, setOpts] = useState<Opts>(initialOpts);\n\n  const pageResult = useMemo(() => applyFilters(allProducts, opts), [allProducts, opts]);\n\n  function onControlsChange(partial: Partial<Opts>) {\n    setOpts((s) => ({ ...s, ...partial }));\n  }\n\n  return (\n    <div className=\"shop-wrapper container-grid\">\n      <aside className=\"filters-area\">\n        <ControlsClient initial={initialOpts} onChange={onControlsChange} />\n      </aside>\n\n      <section className=\"product-area\">\n        <div id=\"product-list\" className=\"product-grid\">\n          {/* render the pageResult items */}\n          {pageResult.items.map((p) => (\n            <ProductCard key={p.id} p={p} />\n          ))}\n        </div>\n\n        <div id=\"pagination\" className=\"pagination-wrap\">\n          <Pagination\n            page={pageResult.page}\n            totalPages={pageResult.totalPages}\n            onPage={(page) => setOpts((s) => ({ ...s, page }))}\n          />\n        </div>\n      </section>\n    </div>\n  );\n}\n\nfunction Pagination({ page, totalPages, onPage }: { page: number; totalPages: number; onPage: (p: number) => void }) {\n  if (totalPages <= 1) return null;\n  const buttons = [];\n  for (let i = 1; i <= totalPages; i++) {\n    buttons.push(\n      <button\n        key={i}\n        className={`page-btn${i === page ? ' active' : ''}`}\n        aria-current={i === page ? 'page' : undefined}\n        onClick={() => onPage(i)}\n      >\n        {i}\n      </button>\n    );\n  }\n  return <nav className=\"pagination\">{buttons}</nav>;\n}"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;AAE5B;;;;;;AAGA;AACA;AALA;;;;;;AAae,SAAS,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,iBAAiB,EAAS;IACvF,yDAAyD;IACzD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAO;IAEvC,MAAM,aAAa,IAAA,gNAAO,EAAC,IAAM,IAAA,kIAAY,EAAC,aAAa,OAAO;QAAC;QAAa;KAAK;IAErF,SAAS,iBAAiB,OAAsB;QAC9C,QAAQ,CAAC,IAAM,CAAC;gBAAE,GAAG,CAAC;gBAAE,GAAG,OAAO;YAAC,CAAC;IACtC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAU;0BACf,cAAA,8OAAC,+IAAc;oBAAC,SAAS;oBAAa,UAAU;;;;;;;;;;;0BAGlD,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAI,IAAG;wBAAe,WAAU;kCAE9B,WAAW,KAAK,CAAC,GAAG,CAAC,CAAC,kBACrB,8OAAC;gCAAuB,GAAG;+BAAT,EAAE,EAAE;;;;;;;;;;kCAI1B,8OAAC;wBAAI,IAAG;wBAAa,WAAU;kCAC7B,cAAA,8OAAC;4BACC,MAAM,WAAW,IAAI;4BACrB,YAAY,WAAW,UAAU;4BACjC,QAAQ,CAAC,OAAS,QAAQ,CAAC,IAAM,CAAC;wCAAE,GAAG,CAAC;wCAAE;oCAAK,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAM5D;AAEA,SAAS,WAAW,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAqE;IACjH,IAAI,cAAc,GAAG,OAAO;IAC5B,MAAM,UAAU,EAAE;IAClB,IAAK,IAAI,IAAI,GAAG,KAAK,YAAY,IAAK;QACpC,QAAQ,IAAI,eACV,8OAAC;YAEC,WAAW,CAAC,QAAQ,EAAE,MAAM,OAAO,YAAY,IAAI;YACnD,gBAAc,MAAM,OAAO,SAAS;YACpC,SAAS,IAAM,OAAO;sBAErB;WALI;;;;;IAQX;IACA,qBAAO,8OAAC;QAAI,WAAU;kBAAc;;;;;;AACtC","debugId":null}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 566, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 571, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}