{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/components/product/productLogic.ts"],"sourcesContent":["export function initProductPage() {\n    const $ = (s: string) => document.querySelector(s) as HTMLElement;\n    const $$ = (s: string) => Array.from(document.querySelectorAll(s));\n  \n    const slidesEl = $(\"#slides\");\n    const thumbs = $$(\".thumb\");\n    let index = 0;\n    const total = thumbs.length;\n  \n    function updateCarousel() {\n      if (!slidesEl) return;\n      slidesEl.style.transform = `translateX(-${index * 100}%)`;\n      $(\"#indicator\")!.textContent = `${index + 1} / ${total}`;\n      thumbs.forEach((t, i) => t.classList.toggle(\"active\", i === index));\n    }\n    function next() {\n      index = (index + 1) % total;\n      updateCarousel();\n    }\n    function prev() {\n      index = (index - 1 + total) % total;\n      updateCarousel();\n    }\n  \n    $(\"#nextBtn\")?.addEventListener(\"click\", next);\n    $(\"#prevBtn\")?.addEventListener(\"click\", prev);\n    thumbs.forEach((t, i) =>\n      t.addEventListener(\"click\", () => {\n        index = i;\n        updateCarousel();\n      })\n    );\n    updateCarousel();\n  \n    // Tabs\n    const tabs = $$(\".tab\");\n    const panes = $$(\".tab-pane\");\n    function activateTab(key: string) {\n      tabs.forEach((t) => t.classList.toggle(\"active\", t.dataset.tab === key));\n      panes.forEach((p) =>\n        p.classList.toggle(\"show\", p.dataset.content === key)\n      );\n    }\n    tabs.forEach((t) =>\n      t.addEventListener(\"click\", () => activateTab(t.dataset.tab || \"details\"))\n    );\n  \n    // 收藏逻辑\n    const saveBtn = $(\"#saveToggle\");\n    if (saveBtn) {\n      let saved = false;\n      saveBtn.onclick = () => {\n        saved = !saved;\n        saveBtn.classList.toggle(\"active\", saved);\n      };\n    }\n  \n    // 数量选择器\n    const qtyVal = $(\"#qtyVal\");\n    const qtyInc = $(\"#qtyInc\");\n    const qtyDec = $(\"#qtyDec\");\n    let qty = 1;\n    qtyInc?.addEventListener(\"click\", () => {\n      qty = Math.min(3, qty + 1);\n      qtyVal!.textContent = qty.toString();\n    });\n    qtyDec?.addEventListener(\"click\", () => {\n      qty = Math.max(1, qty - 1);\n      qtyVal!.textContent = qty.toString();\n    });\n  \n    // 模态查看\n    const modal = $(\"#modal\");\n    const modalImg = $(\"#modalImg\") as HTMLImageElement;\n    const modalThumbs = $(\"#modalThumbs\");\n    const images = [`/images/product-1.jpg`, `/images/product-2.jpg`, `/images/product-3.jpg`, `/images/product-4.jpg`, `/images/product-5.jpg`];\n    thumbs.forEach((t, i) =>\n      t.querySelector(\"img\")?.addEventListener(\"click\", () => {\n        modal?.classList.add(\"open\");\n        renderModal(i);\n      })\n    );\n    function renderModal(idx: number) {\n      if (!modalImg || !modalThumbs) return;\n      modalImg.src = images[idx];\n      modalThumbs.innerHTML = images\n        .map(\n          (src, i) =>\n            `<img src=\"${src}\" class=\"${\n              i === idx ? \"active\" : \"\"\n            }\" style=\"cursor:pointer\">`\n        )\n        .join(\"\");\n      modalThumbs.querySelectorAll(\"img\").forEach((i, j) =>\n        i.addEventListener(\"click\", () => renderModal(j))\n      );\n    }\n    $(\"#modalClose\")?.addEventListener(\"click\", () =>\n      modal?.classList.remove(\"open\")\n    );\n  \n    // 顾问按钮\n    $(\"#consultFloat\")?.addEventListener(\"click\", () =>\n      alert(\"Chat with studio specialist placeholder\")\n    );\n  }"],"names":[],"mappings":"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","debugId":null}}]
}