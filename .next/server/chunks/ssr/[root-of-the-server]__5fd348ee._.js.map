{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/lib/products.ts"],"sourcesContent":["// lib/products.ts\nimport productsData from '../data/products.json';\n\nexport interface Product {\n  id: string;\n  title: string;\n  price: number;\n  image: string;\n}\n\nexport function getAllProducts(): Product[] {\n  // productsData 是静态 JSON 导入（位于 data/products.json）\n  return (productsData as Product[]).slice();\n}"],"names":[],"mappings":"AAAA,kBAAkB;;;;;AAClB;;AASO,SAAS;IACd,kDAAkD;IAClD,OAAO,AAAC,0GAAY,CAAe,KAAK;AAC1C","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/lib/util.ts"],"sourcesContent":["// lib/util.ts\nimport { Product } from './products';\n\nexport type SortOption = 'default' | 'price-asc' | 'price-desc';\n\nexport interface Opts {\n  minPrice: number;\n  maxPrice: number;\n  sort: SortOption;\n  perPage: number;\n  page: number;\n}\n\nexport interface PageResult {\n  items: Product[];\n  total: number;\n  totalPages: number;\n  page: number;\n  perPage: number;\n}\n\nexport function applyFilters(products: Product[], opts: Opts): PageResult {\n  const min = Number(opts.minPrice || 0);\n  const max = Number(opts.maxPrice || Infinity);\n  const perPage = Number(opts.perPage) || 12;\n  let list = products.filter((p) => p.price >= min && p.price <= max);\n\n  if (opts.sort === 'price-asc') list = list.slice().sort((a, b) => a.price - b.price);\n  if (opts.sort === 'price-desc') list = list.slice().sort((a, b) => b.price - a.price);\n\n  const total = list.length;\n  const totalPages = Math.max(1, Math.ceil(total / perPage));\n  const page = Math.min(Math.max(1, Number(opts.page || 1)), totalPages);\n  const start = (page - 1) * perPage;\n  const items = list.slice(start, start + perPage);\n\n  return { items, total, totalPages, page, perPage };\n}"],"names":[],"mappings":"AAAA,cAAc;;;;;AAqBP,SAAS,aAAa,QAAmB,EAAE,IAAU;IAC1D,MAAM,MAAM,OAAO,KAAK,QAAQ,IAAI;IACpC,MAAM,MAAM,OAAO,KAAK,QAAQ,IAAI;IACpC,MAAM,UAAU,OAAO,KAAK,OAAO,KAAK;IACxC,IAAI,OAAO,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK,IAAI,OAAO,EAAE,KAAK,IAAI;IAE/D,IAAI,KAAK,IAAI,KAAK,aAAa,OAAO,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IACnF,IAAI,KAAK,IAAI,KAAK,cAAc,OAAO,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IAEpF,MAAM,QAAQ,KAAK,MAAM;IACzB,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,QAAQ;IACjD,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,OAAO,KAAK,IAAI,IAAI,KAAK;IAC3D,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI;IAC3B,MAAM,QAAQ,KAAK,KAAK,CAAC,OAAO,QAAQ;IAExC,OAAO;QAAE;QAAO;QAAO;QAAY;QAAM;IAAQ;AACnD","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/page.tsx"],"sourcesContent":["// app/shop/page.tsx\nimport React from 'react';\nimport { getAllProducts } from '../lib/products';\nimport { applyFilters, Opts } from '../lib/util';\nimport ProductCard from '../components/ProductCard';\nimport ControlsView from '../components/ControlsView';\nimport ShopClient from '../components/ShopClient';\n\nexport default function Page() {\n  const products = getAllProducts();\n\n  const initialOpts: Opts = {\n    minPrice: 0,\n    maxPrice: 9999999,\n    sort: 'default',\n    perPage: 12,\n    page: 1,\n  };\n\n  const initialPage = applyFilters(products, initialOpts);\n\n  return (\n    <main>\n      {/* SSR 输出：filters + 初始 product list */}\n      <div className=\"shop-wrapper container-grid\">\n        <aside className=\"filters-area\">\n          <ControlsView opts={initialOpts} />\n        </aside>\n\n        <section className=\"product-area\">\n          <div id=\"product-list\" className=\"product-grid\">\n            {initialPage.items.map((p) => (\n              <ProductCard key={p.id} p={p} />\n            ))}\n          </div>\n\n          <div id=\"pagination\" className=\"pagination-wrap\">\n            {initialPage.totalPages > 1 && (\n              <nav className=\"pagination\">\n                {Array.from({ length: initialPage.totalPages }, (_, i) => {\n                  const n = i + 1;\n                  return (\n                    <button\n                      key={n}\n                      className={`page-btn${n === initialPage.page ? ' active' : ''}`}\n                      aria-current={n === initialPage.page ? 'page' : undefined}\n                    >\n                      {n}\n                    </button>\n                  );\n                })}\n              </nav>\n            )}\n          </div>\n        </section>\n      </div>\n\n      {/* 客户端组件：接收相同初始数据以确保 hydrate 时 DOM 一致 */}\n      <ShopClient allProducts={products} initialOpts={initialOpts} initialPageResult={initialPage} />\n    </main>\n  );\n}"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;AAEpB;AACA;;;;;;;;;;;;;;;;;;;;;;AAKe,SAAS;IACtB,MAAM,WAAW,IAAA,wIAAc;IAE/B,MAAM,cAAoB;QACxB,UAAU;QACV,UAAU;QACV,MAAM;QACN,SAAS;QACT,MAAM;IACR;IAEA,MAAM,cAAc,IAAA,kIAAY,EAAC,UAAU;IAE3C,qBACE,8OAAC;;0BAEC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC;4BAAa,MAAM;;;;;;;;;;;kCAGtB,8OAAC;wBAAQ,WAAU;;0CACjB,8OAAC;gCAAI,IAAG;gCAAe,WAAU;0CAC9B,YAAY,KAAK,CAAC,GAAG,CAAC,CAAC,kBACtB,8OAAC;wCAAuB,GAAG;uCAAT,EAAE,EAAE;;;;;;;;;;0CAI1B,8OAAC;gCAAI,IAAG;gCAAa,WAAU;0CAC5B,YAAY,UAAU,GAAG,mBACxB,8OAAC;oCAAI,WAAU;8CACZ,MAAM,IAAI,CAAC;wCAAE,QAAQ,YAAY,UAAU;oCAAC,GAAG,CAAC,GAAG;wCAClD,MAAM,IAAI,IAAI;wCACd,qBACE,8OAAC;4CAEC,WAAW,CAAC,QAAQ,EAAE,MAAM,YAAY,IAAI,GAAG,YAAY,IAAI;4CAC/D,gBAAc,MAAM,YAAY,IAAI,GAAG,SAAS;sDAE/C;2CAJI;;;;;oCAOX;;;;;;;;;;;;;;;;;;;;;;;0BAQV,8OAAC;gBAAW,aAAa;gBAAU,aAAa;gBAAa,mBAAmB;;;;;;;;;;;;AAGtF","debugId":null}}]
}