{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/lib/products.ts"],"sourcesContent":["// lib/products.ts\nimport productsData from '../data/products.json';\n\nexport interface Product {\n  id: string;\n  title: string;\n  price: number;\n  image: string;\n}\n\nexport function getAllProducts(): Product[] {\n  // productsData 是静态 JSON 导入（位于 data/products.json）\n  return (productsData as Product[]).slice();\n}"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;;;;;;AAUX,SAAS;IACd,kDAAkD;IAClD,OAAO,AAAC,aAA2B,KAAK;AAC1C","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/lib/util.ts"],"sourcesContent":["// lib/util.ts\nimport { Product } from './products';\n\nexport type SortOption = 'default' | 'price-asc' | 'price-desc';\n\nexport interface Opts {\n  minPrice: number;\n  maxPrice: number;\n  sort: SortOption;\n  perPage: number;\n  page: number;\n}\n\nexport interface PageResult {\n  items: Product[];\n  total: number;\n  totalPages: number;\n  page: number;\n  perPage: number;\n}\n\nexport function applyFilters(products: Product[], opts: Opts): PageResult {\n  const min = Number(opts.minPrice || 0);\n  const max = Number(opts.maxPrice || Infinity);\n  const perPage = Number(opts.perPage) || 12;\n  let list = products.filter((p) => p.price >= min && p.price <= max);\n\n  if (opts.sort === 'price-asc') list = list.slice().sort((a, b) => a.price - b.price);\n  if (opts.sort === 'price-desc') list = list.slice().sort((a, b) => b.price - a.price);\n\n  const total = list.length;\n  const totalPages = Math.max(1, Math.ceil(total / perPage));\n  const page = Math.min(Math.max(1, Number(opts.page || 1)), totalPages);\n  const start = (page - 1) * perPage;\n  const items = list.slice(start, start + perPage);\n\n  return { items, total, totalPages, page, perPage };\n}"],"names":[],"mappings":"AAAA,cAAc;;;;;AAqBP,SAAS,aAAa,QAAmB,EAAE,IAAU;IAC1D,MAAM,MAAM,OAAO,KAAK,QAAQ,IAAI;IACpC,MAAM,MAAM,OAAO,KAAK,QAAQ,IAAI;IACpC,MAAM,UAAU,OAAO,KAAK,OAAO,KAAK;IACxC,IAAI,OAAO,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,KAAK,IAAI,OAAO,EAAE,KAAK,IAAI;IAE/D,IAAI,KAAK,IAAI,KAAK,aAAa,OAAO,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IACnF,IAAI,KAAK,IAAI,KAAK,cAAc,OAAO,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IAEpF,MAAM,QAAQ,KAAK,MAAM;IACzB,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,QAAQ;IACjD,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,OAAO,KAAK,IAAI,IAAI,KAAK;IAC3D,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI;IAC3B,MAAM,QAAQ,KAAK,KAAK,CAAC,OAAO,QAAQ;IAExC,OAAO;QAAE;QAAO;QAAO;QAAY;QAAM;IAAQ;AACnD","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/components/ProductCard.tsx"],"sourcesContent":["// components/ProductCard.tsx\nimport React from 'react';\nimport { Product } from '../lib/products';\n\nexport default function ProductCard({ p }: { p: Product }) {\n  return (\n    <article className=\"product-card\" data-id={p.id}>\n      <img className=\"product-img\" src={p.image} alt={p.title} loading=\"lazy\" />\n      <h3 className=\"product-title\">{p.title}</h3>\n      <div className=\"product-price\">¥{p.price}</div>\n    </article>\n  );\n}"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;;AAId,SAAS,YAAY,EAAE,CAAC,EAAkB;IACvD,qBACE,8OAAC;QAAQ,WAAU;QAAe,WAAS,EAAE,EAAE;;0BAC7C,8OAAC;gBAAI,WAAU;gBAAc,KAAK,EAAE,KAAK;gBAAE,KAAK,EAAE,KAAK;gBAAE,SAAQ;;;;;;0BACjE,8OAAC;gBAAG,WAAU;0BAAiB,EAAE,KAAK;;;;;;0BACtC,8OAAC;gBAAI,WAAU;;oBAAgB;oBAAE,EAAE,KAAK;;;;;;;;;;;;;AAG9C","debugId":null}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/components/ControlsView.tsx"],"sourcesContent":["// components/ControlsView.tsx\nimport React from 'react';\nimport { Opts } from '../lib/util';\n\nexport default function ControlsView({ opts }: { opts: Opts }) {\n  return (\n    <form id=\"filter-form\" className=\"filters\" action=\"#\" onSubmit={(e) => e.preventDefault()}>\n      <label className=\"label-inline\">\n        价格区间：\n        <div className=\"range-inputs\">\n          <input id=\"price-min\" name=\"min\" type=\"number\" min={0} defaultValue={opts.minPrice} />\n          <span className=\"sep\">—</span>\n          <input id=\"price-max\" name=\"max\" type=\"number\" min={0} defaultValue={opts.maxPrice} />\n        </div>\n      </label>\n\n      <label className=\"label-block\">\n        排序：\n        <select id=\"sort-select\" defaultValue={opts.sort}>\n          <option value=\"default\">默认</option>\n          <option value=\"price-asc\">价格从低到高</option>\n          <option value=\"price-desc\">价格从高到低</option>\n        </select>\n      </label>\n\n      <label className=\"label-block\">\n        每页：\n        <select id=\"perpage-select\" defaultValue={String(opts.perPage)}>\n          <option value=\"8\">8</option>\n          <option value=\"12\">12</option>\n          <option value=\"24\">24</option>\n        </select>\n      </label>\n\n      <div className=\"controls-actions\">\n        <button id=\"apply-btn\" type=\"button\" className=\"btn-primary\">应用</button>\n      </div>\n    </form>\n  );\n}"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;;AAIf,SAAS,aAAa,EAAE,IAAI,EAAkB;IAC3D,qBACE,8OAAC;QAAK,IAAG;QAAc,WAAU;QAAU,QAAO;QAAI,UAAU,CAAC,IAAM,EAAE,cAAc;;0BACrF,8OAAC;gBAAM,WAAU;;oBAAe;kCAE9B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,IAAG;gCAAY,MAAK;gCAAM,MAAK;gCAAS,KAAK;gCAAG,cAAc,KAAK,QAAQ;;;;;;0CAClF,8OAAC;gCAAK,WAAU;0CAAM;;;;;;0CACtB,8OAAC;gCAAM,IAAG;gCAAY,MAAK;gCAAM,MAAK;gCAAS,KAAK;gCAAG,cAAc,KAAK,QAAQ;;;;;;;;;;;;;;;;;;0BAItF,8OAAC;gBAAM,WAAU;;oBAAc;kCAE7B,8OAAC;wBAAO,IAAG;wBAAc,cAAc,KAAK,IAAI;;0CAC9C,8OAAC;gCAAO,OAAM;0CAAU;;;;;;0CACxB,8OAAC;gCAAO,OAAM;0CAAY;;;;;;0CAC1B,8OAAC;gCAAO,OAAM;0CAAa;;;;;;;;;;;;;;;;;;0BAI/B,8OAAC;gBAAM,WAAU;;oBAAc;kCAE7B,8OAAC;wBAAO,IAAG;wBAAiB,cAAc,OAAO,KAAK,OAAO;;0CAC3D,8OAAC;gCAAO,OAAM;0CAAI;;;;;;0CAClB,8OAAC;gCAAO,OAAM;0CAAK;;;;;;0CACnB,8OAAC;gCAAO,OAAM;0CAAK;;;;;;;;;;;;;;;;;;0BAIvB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAO,IAAG;oBAAY,MAAK;oBAAS,WAAU;8BAAc;;;;;;;;;;;;;;;;;AAIrE","debugId":null}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/components/ShopClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/shop/components/ShopClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/shop/components/ShopClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/components/ShopClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/shop/components/ShopClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/shop/components/ShopClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///Users/meteor/Desktop/AleGo/ale-project/app/shop/page.tsx"],"sourcesContent":["// app/page.tsx\nimport React from 'react';\nimport { getAllProducts } from './lib/products';\nimport { applyFilters, Opts } from './lib/util';\nimport ProductCard from './components/ProductCard';\nimport ControlsView from './components/ControlsView';\nimport ShopClient from './components/ShopClient';\nimport './shop.css'\n\nexport default function Page() {\n  const products = getAllProducts();\n\n  const initialOpts: Opts = {\n    minPrice: 0,\n    maxPrice: 9999999,\n    sort: 'default',\n    perPage: 12,\n    page: 1,\n  };\n\n  const initialPage = applyFilters(products, initialOpts);\n\n  return (\n    <main>\n      {/* 服务器端渲染的 wrapper: 包含静态控件和初始 product list */}\n      <div className=\"shop-wrapper container-grid\">\n        <aside className=\"filters-area\">\n          <ControlsView opts={initialOpts} />\n        </aside>\n\n        <section className=\"product-area\">\n          <div id=\"product-list\" className=\"product-grid\">\n            {initialPage.items.map((p) => (\n              <ProductCard key={p.id} p={p} />\n            ))}\n          </div>\n\n          <div id=\"pagination\" className=\"pagination-wrap\">\n            {/* 简单 server-side pagination rendering */}\n            {initialPage.totalPages > 1 && (\n              <nav className=\"pagination\">\n                {Array.from({ length: initialPage.totalPages }, (_, i) => {\n                  const n = i + 1;\n                  return (\n                    <button key={n} className={`page-btn${n === initialPage.page ? ' active' : ''}`} aria-current={n === initialPage.page ? 'page' : undefined}>\n                      {n}\n                    </button>\n                  );\n                })}\n              </nav>\n            )}\n          </div>\n        </section>\n      </div>\n\n      {/* 客户端入口（hydration + 交互）。传入相同的数据以确保初次渲染一致 */}\n      <ShopClient allProducts={products} initialOpts={initialOpts} initialPageResult={initialPage} />\n    </main>\n  );\n}"],"names":[],"mappings":"AAAA,eAAe;;;;;;AAEf;AACA;AACA;AACA;AACA;;;;;;;;AAGe,SAAS;IACtB,MAAM,WAAW,IAAA,gJAAc;IAE/B,MAAM,cAAoB;QACxB,UAAU;QACV,UAAU;QACV,MAAM;QACN,SAAS;QACT,MAAM;IACR;IAEA,MAAM,cAAc,IAAA,0IAAY,EAAC,UAAU;IAE3C,qBACE,8OAAC;;0BAEC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC,qJAAY;4BAAC,MAAM;;;;;;;;;;;kCAGtB,8OAAC;wBAAQ,WAAU;;0CACjB,8OAAC;gCAAI,IAAG;gCAAe,WAAU;0CAC9B,YAAY,KAAK,CAAC,GAAG,CAAC,CAAC,kBACtB,8OAAC,oJAAW;wCAAY,GAAG;uCAAT,EAAE,EAAE;;;;;;;;;;0CAI1B,8OAAC;gCAAI,IAAG;gCAAa,WAAU;0CAE5B,YAAY,UAAU,GAAG,mBACxB,8OAAC;oCAAI,WAAU;8CACZ,MAAM,IAAI,CAAC;wCAAE,QAAQ,YAAY,UAAU;oCAAC,GAAG,CAAC,GAAG;wCAClD,MAAM,IAAI,IAAI;wCACd,qBACE,8OAAC;4CAAe,WAAW,CAAC,QAAQ,EAAE,MAAM,YAAY,IAAI,GAAG,YAAY,IAAI;4CAAE,gBAAc,MAAM,YAAY,IAAI,GAAG,SAAS;sDAC9H;2CADU;;;;;oCAIjB;;;;;;;;;;;;;;;;;;;;;;;0BAQV,8OAAC,mJAAU;gBAAC,aAAa;gBAAU,aAAa;gBAAa,mBAAmB;;;;;;;;;;;;AAGtF","debugId":null}}]
}